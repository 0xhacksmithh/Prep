# 81. What Is Load Balancing?

### Explanation

Load balancing distributes incoming traffic across multiple servers/processes to:

- Improve availability

- Increase throughput

- Prevent overload

### Types

- Round-robin

- Least connections

- IP hash

### Example

```
Client → Load Balancer → Node Instance 1
→ Node Instance 2
```

### Interview Tip

Node itself doesn’t load balance—infrastructure does.

# 82. Horizontal vs Vertical Scaling

| Horizontal Scaling | Vertical Scaling     |
| ------------------ | -------------------- |
| Add more servers   | Upgrade server       |
| Fault tolerant     | Single point failure |
| Preferred          | Limited              |

### Interview Tip

Node.js favors horizontal scaling.

# 83. What Is PM2?

### Explanation

PM2 is a production process manager for Node.js.

### Features:

- Process restart

- Clustering

- Monitoring

- Logs

### Example

```
pm2 start app.js
pm2 status
```

# 84. How Does PM2 Cluster Mode Work?

### Explanation

PM2 creates multiple Node processes equal to CPU cores and distributes traffic.

### Example

```
pm2 start app.js -i max
```

### Interview Tip

Each process has its own event loop.

# 85. What Is Graceful Shutdown?

### Explanation

**Graceful shutdown ensures:**

- No new requests accepted

- Ongoing requests complete

- Resources closed properly

**Why It Matters**

- Prevents data loss

- Avoids broken requests

# 86. How Do You Implement Graceful Shutdown?

### Example

```
process.on("SIGTERM", () => {
  server.close(() => {
    console.log("Server closed");
    process.exit(0);
  });
});

```

### Interview Tip

Always handle `SIGINT` and `SIGTERM`.

# 87. What Happens When an Unhandled Promise Rejection Occurs?

### Explanation

In modern Node versions:

- App crashes

- Process exits

### Example

```
Promise.reject("error");
```

### Best Practice

```
process.on("unhandledRejection", handleError);
```

# 88. Difference Between `throw` and `reject`

| throw               | reject        |
| ------------------- | ------------- |
| Sync                | Async         |
| Crashes immediately | Can be caught |

### Example

```
throw new Error("Sync error");

return Promise.reject("Async error");

```

# 89. How Do You Handle Uncaught Exceptions?

### Explanation

Uncaught exceptions are fatal.

**Best Practice**

- Log error

- Shutdown gracefully

- Restart process

### Example

```
process.on("uncaughtException", err => {
  console.error(err);
  process.exit(1);
});
```

# 90. What Is Idempotency?

### Explanation

An operation is idempotent if multiple identical requests have the same effect.

### Example

```
PUT /users/1
```

Calling it 10 times → same result.

### Interview Tip

Idempotency is critical for `distributed systems`.
