# 71. How Does Node.js Scale?

### Explanation

Node.js scales using process-level and infrastructure-level techniques, not threads per request.

### Scaling Methods

- Clustering (multiple processes)

- Load balancing

- Horizontal scaling

- Stateless APIs

### Example

```
// PM2 cluster mode
pm2 start app.js -i max
```

### Interview Tip

Node.js scales horizontally, not vertically.

# 72. What Are Worker Threads?

### Explanation

Worker Threads allow Node.js to run JavaScript in parallel threads.

**Used for:**

- CPU-intensive tasks

- Cryptography

- Data processing

### Example

```
import { Worker } from "worker_threads";

new Worker("./worker.js");
```

### Interview Tip

Worker threads share memory using SharedArrayBuffer.

# 73. When Would You Use Worker Threads?

### Use Cases

- Image processing

- PDF generation

- Encryption/decryption

- ML computations

### Bad Use Case

❌ I/O operations (Node already handles this well)

# 74. What Is Backpressure in Node.js?

### Explanation

Backpressure occurs when a stream produces data faster than it can be consumed.

### Example

```
readable.pipe(writable); // auto backpressure handling
```

### Interview Tip

Ignoring backpressure causes memory leaks.

# 75. What Causes Memory Leaks in Node.js?

### Common Causes

- Global variables

- Event listeners not removed

- Closures holding references

- Timers not cleared

### Example (Bad)

```
global.users.push(user);
```

# 76. How Do You Detect Memory Leaks?

### Tools

- Chrome DevTools

- `--inspect`

- Heap snapshots

- `process.memoryUsage()`

### Example

```
console.log(process.memoryUsage());
```

### Interview Tip

Memory leaks grow slowly—monitor over time.

#77. What Is Garbage Collection in V8?

### Explanation

Garbage Collection frees unused memory automatically.

**Types**

- Minor GC (young generation)

- Major GC (old generation)

### Interview Tip

Manual GC is not allowed in Node.js.

# 78. Heap vs Stack

| Stack          | Heap       |
| -------------- | ---------- |
| Function calls | Objects    |
| Fast           | Larger     |
| Auto-managed   | GC-managed |

### Interview Tip

Stack overflow ≠ memory leak.

79. How Do You Optimize Node.js Performance?

### Techniques

- Use async I/O

- Avoid blocking code

- Use caching (Redis)

- Stream large data

- Cluster processes

### Example

```
await redis.get(key);
```

# 80. How Do You Handle High Traffic in Node.js?

### Strategy

- Load balancer

- Caching layer

- Queue system

- Horizontal scaling

### Example Architecture

```
Client → Load Balancer → Node Cluster → Redis → DB
```

### Interview Tip

High traffic ≠ CPU heavy always.
