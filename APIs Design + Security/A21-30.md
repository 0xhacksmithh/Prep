# 21. Difference between JWT and Session-Based Authentication (recap, deeper)

âœ… Answer
| Session-Based | JWT-Based |
| --------------------- | --------------- |
| Server stores session | Stateless |
| Session ID in cookie | Token in header |
| Easy logout | Hard logout |
| Scales poorly | Scales well |

### ğŸ“Š Diagram

```
Session:
Client â†’ SessionID â†’ Server Session Store

JWT:
Client â†’ JWT â†’ Signature Verification
```

### ğŸ” Security Trade-off

- Sessions â†’ CSRF risk

- JWT â†’ XSS risk

# 22. Where should JWT be stored?

âœ… Answer
| Storage | Security |
| ---------------- | ---------------- |
| localStorage | âŒ XSS vulnerable |
| sessionStorage | âŒ XSS vulnerable |
| HTTP-only Cookie | âœ… Best |

### ğŸ“Š Diagram

```
Browser
 â”œâ”€ localStorage âŒ
 â””â”€ httpOnly Cookie âœ…
```

### ğŸ” Best Practice

- Store access token in memory

- Store refresh token in HTTP-only cookie

# 23. What are access tokens vs refresh tokens?

âœ… Answer
| Access Token | Refresh Token |
| --------------- | ------------- |
| Short-lived | Long-lived |
| API access | Token renewal |
| Sent frequently | Sent rarely |

### ğŸ“Š Diagram

Login â†’ Access + Refresh
Access expires â†’ Refresh â†’ New Access

### ğŸ” Security Tip

Rotate refresh tokens to prevent replay attacks.

# 24. What is token expiration and why important?

âœ… Answer

Token expiration limits the damage window if a token is stolen.

### ğŸ“Š Diagram

```
Token Issued â†’ Valid â†’ Expired â†’ Re-auth
```

### ğŸ” Interview Line

Short-lived access tokens + refresh tokens = secure balance

# 25. What is OAuth 2.0?

âœ… Answer

OAuth 2.0 is an authorization framework that allows **delegated access** without sharing credentials.

### ğŸ“Š Diagram

```
User â†’ Auth Server â†’ Token â†’ Resource Server
```

### ğŸ” Key Point

OAuth â‰  authentication
(Thatâ€™s OIDC)

# 26. OAuth Roles (Client, Resource Server, Authorization Server)

âœ… Answer
| Role | Responsibility |
| --------------- | --------------- |
| Client | Requests access |
| Auth Server | Issues tokens |
| Resource Server | Hosts API |

### ğŸ“Š Diagram

```
Client â†’ Auth Server â†’ Token
Client â†’ Resource Server â†’ Data
```

# 27. OAuth Flows (Grant Types)

âœ… Answer
| Flow | Use Case |
| ------------------ | ------------------ |
| Authorization Code | Web / Mobile apps |
| Client Credentials | Service-to-service |
| Implicit | âŒ Deprecated |
| Password | âŒ Deprecated |

### ğŸ“Š Diagram (Auth Code)

```
User â†’ Login â†’ Code â†’ Token
```

### ğŸ” Interview Tip

**Always say:**

Authorization Code + PKCE

# 28. What is OpenID Connect (OIDC)?

âœ… Answer

OIDC adds **authentication** on top of OAuth.

### ğŸ“Š Diagram

```
OAuth â†’ Access Token
OIDC â†’ ID Token (Who you are)
```

### ğŸ” Key Token

`id_token` â†’ user identity

# 29. What is SSO (Single Sign-On)?

âœ… Answer

SSO allows logging in once and accessing multiple apps.

### ğŸ“Š Diagram

```
Login once
   â†“
App A â†’ App B â†’ App C
```

### ğŸ” Example

Google, Okta, Auth0

# 30. How do you revoke a JWT?

âœ… Answer

JWTs are stateless â†’ canâ€™t be deleted.

### ğŸ“Œ Solutions

- Short expiration

- Token blacklist

- Rotate refresh tokens

- Maintain revocation list

### ğŸ“Š Diagram

```
JWT â†’ Blacklist â†’ Reject
```

### ğŸ” Best Practice

Invalidate refresh tokens, not access tokens.

### ğŸ¯ Interview-Ready Summary (21â€“30)

- JWT â‰  session replacement always

- HTTP-only cookies reduce XSS

- OAuth = delegation

- OIDC = identity

- Short-lived tokens are non-negotiable
