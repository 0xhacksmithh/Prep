# 71. How do you validate API input?

âœ… Answer

Always validate on the server, never trust client input.

### ğŸ“Š Diagram

```
Client Input
    â†“
Validation Layer
    â†“
Business Logic
```

### ğŸ” Best Practices

- Schema validation (Joi / Zod)

- Type checking

- Length & format checks

# 72. Server-side vs Client-side validation

âœ… Answer
| Client-side | Server-side |
| --------------- | -------------------- |
| UX improvement | Security enforcement |
| Easily bypassed | Mandatory |
| JavaScript | Backend logic |

### ğŸ“Š Diagram

```
Client âœ” (optional)
Server âœ”âœ” (required)
```

### ğŸ” Interview Line

Client validation is for UX, server validation is for security.

# 73. How do you prevent mass assignment?

âœ… Answer

Allow only explicit fields to be updated.

### âŒ Dangerous

```
User.update(req.body)
```

### âœ… Safe

```
const { name, email } = req.body
```

### ğŸ“Š Diagram

```
Input â†’ Field Whitelist â†’ Update
```

# 74. How do you secure file upload APIs?

âœ… Answer

File uploads are high-risk attack vectors.

### ğŸ“Š Diagram

```
Upload â†’ Validate â†’ Scan â†’ Store
```

### ğŸ” Protection Checklist

- File type allowlist

- Size limits

- Rename files

- Virus scanning

- Store outside web root

# 75. How do you protect APIs from DDoS attacks?

âœ… Answer

DDoS floods your API with traffic.

### ğŸ“Š Diagram

```
Attack Traffic â†’ WAF â†’ Rate Limit â†’ API
```

### ğŸ” Defenses

- Rate limiting

- CDN

- Auto-scaling

- API Gateway

# 76. What is a rate-limiting strategy per user/IP/token?

âœ… Answer

Different strategies for different identities.

### ğŸ“Š Diagram

```
IP-based
User-based
Token-based
```

### ğŸ” Best Practice

Combine multiple strategies.

# 77. How do you log API security events?

âœ… Answer

Log who did what and when.

### ğŸ“Š Diagram

```
Request â†’ Security Event â†’ Log Store
```

### ğŸ” What to Log

- Failed logins

- Permission denials

- Token refresh

# 78. What should never be logged?

âœ… Answer

Never log sensitive data.

### âŒ Do NOT log

- Passwords

- Tokens

- API keys

- Credit cards

### ğŸ“Š Diagram

```
Sensitive Data â†’ Mask / Omit â†’ Logs
```

### ğŸ” Interview Tip

Logging can become a data breach.

# 79. How do you design secure error responses?

âœ… Answer

Errors should be useful but not **revealing**.

### âŒ Bad

```
SQL error at line 45
```

### âœ… Good

```
Something went wrong
```

### ğŸ“Š Diagram

```
Internal Error â†’ Generic Response
```

### ğŸ” Best Practice

Detailed logs internally, generic messages externally.

# 80. How do you prevent information leakage?

âœ… Answer

Information leakage happens via errors, headers, responses.

### ğŸ“Š Diagram

```
API â†’ Filter â†’ Client
```

### ğŸ” Prevention

- Disable stack traces

- Remove debug headers

- Minimal responses

### ğŸ¯ Interview-Ready Summary (71â€“80)

- Validate everything

- Whitelist, donâ€™t blacklist

- Logs â‰  data dump

- Errors should not teach attackers

- File uploads are dangerous
