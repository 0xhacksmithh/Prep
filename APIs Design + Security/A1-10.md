# 1. What is an API?

âœ… Answer

An API (Application Programming Interface) is a contract that allows one software system to communicate with another using defined rules, usually over HTTP.

It hides internal implementation and exposes only what is allowed.

### ğŸ§  Real-world analogy

â¡ï¸ Restaurant menu: You order food (request), kitchen processes it, you get food (response).

### ğŸ“Š Diagram

```
Client (Frontend / Mobile)
        |
        |  HTTP Request
        v
      API Layer
        |
        |  Business Logic
        v
     Database / Services
        |
        |  HTTP Response
        v
Client
```

### ğŸ” Security Angle

- APIs define attack surface

- Poor API design â†’ data leaks, unauthorized access

2. Difference between REST, SOAP, and GraphQL
   âœ… Answer
   | Feature | REST | SOAP | GraphQL |
   | ------------------- | ----------- | --------------- | ----------- |
   | Protocol | HTTP | XML + HTTP/SMTP | HTTP |
   | Data Format | JSON | XML only | JSON |
   | Flexibility | Medium | Low | High |
   | Over/Under Fetching | Yes | Yes | No |
   | Complexity | Simple | Complex | Medium |
   | Caching | Native HTTP | Hard | Client-side |

### ğŸ“Š Diagram

```
REST:
GET /users/1 â†’ returns full user object

GraphQL:
query {
  user(id: 1) {
    name
    email
  }
}
```

### ğŸ” Security Note

- GraphQL needs query depth limiting

- SOAP has WS-Security

- REST relies heavily on API gateway + auth

# 3. What are REST constraints?

âœ… Answer

REST is defined by **6 architectural constraints:**

- Clientâ€“Server

- Stateless

- Cacheable

- Uniform Interface

- Layered System

- Code on Demand (optional)

### ğŸ“Š Diagram

```
Client â”€â”€> API (stateless)
            |
         Cache / Proxy
            |
         Backend
```

### ğŸ¯ Interview Tip

If you violate statelessness â†’ itâ€™s not RESTful

# 4. What does statelessness mean in REST?

âœ… Answer

Each request must contain **all required information.**
Server does **not store client session state.**

### âŒ Bad

```
Server remembers user state
```

### âœ… Good

```
Request contains:
- Authorization token
- Required params
```

### ğŸ“Š Diagram

```
Request 1 â†’ Token A â†’ OK
Request 2 â†’ Token A â†’ OK
(No session stored)
```

### ğŸ” Security Benefit

- Easy horizontal scaling

- No session hijacking

# 5. What is idempotency?

âœ… Answer

An operation is `idempotent` if multiple identical requests produce the same result.

### ğŸ“Œ HTTP Methods

| Method | Idempotent |
| ------ | ---------- |
| GET    | âœ…         |
| PUT    | âœ…         |
| DELETE | âœ…         |
| POST   | âŒ         |

### ğŸ“Š Diagram

```
PUT /users/1
PUT /users/1
â†’ User updated once
```

### ğŸ” Why Important?

- Prevents duplicate payments

- Safe retries in distributed systems

# 6. Difference between PUT vs PATCH

âœ… Answer
| PUT | PATCH |
| ------------------------ | ---------------------- |
| Replaces entire resource | Updates partial fields |
| Idempotent | Idempotent |
| Requires full payload | Minimal payload |

### ğŸ“Š Example

```
PUT /users/1
{
  "name": "Alice",
  "email": "a@mail.com"
}

PATCH /users/1
{
  "email": "new@mail.com"
}
```

### ğŸ” Security Note

PATCH must prevent mass assignment attacks

# 7. What is HATEOAS?

âœ… Answer

**HATEOAS (Hypermedia As The Engine Of Application State)**
Response contains links to next allowed actions.

### ğŸ“Š Diagram

```
GET /users/1

Response:
{
  "id": 1,
  "name": "Alice",
  "links": {
    "update": "/users/1",
    "delete": "/users/1"
  }
}
```

### ğŸ¯ Interview Reality

- Rarely implemented fully

- Shows maturity of REST

# 8. What is content negotiation?

âœ… Answer

Client and server agree on data format using HTTP headers.

### ğŸ“Š Headers

```
Accept: application/json
Content-Type: application/xml
```

### ğŸ“Š Diagram

```
Client â”€â”€ Accept: JSON â”€â”€> API
API â”€â”€ JSON Response â”€â”€> Client
```

### ğŸ” Security Note

Reject unsupported formats to avoid parsing attacks

# 9. What are HTTP status code categories?

âœ… Answer
| Range | Meaning |
| ----- | ------------- |
| 1xx | Informational |
| 2xx | Success |
| 3xx | Redirection |
| 4xx | Client Error |
| 5xx | Server Error |

### ğŸ“Š Diagram

```
Client Error â†’ 400, 401, 403
Server Error â†’ 500, 502
```

### ğŸ” Best Practice

- Donâ€™t leak stack traces in 5xx

- Use 401 vs 403 correctly

# 10. What is API versioning? Why needed?

âœ… Answer

API versioning allows evolving APIs without breaking clients.

### ğŸ“Œ Methods

```
/api/v1/users
/api/v2/users

Headers:
Accept-Version: v2
```

### ğŸ“Š Diagram

```
Client v1 â”€â”€> API v1
Client v2 â”€â”€> API v2
```

### ğŸ” Security Angle

- Patch vulnerabilities without breaking old clients

- Deprecate insecure versions
